model:
  name: "locuslab/phi_grad_diff_1e-05_forget05"
  revision: "checkpoint-30"
  device: "cuda"
  device_map: auto
  dtype: "float16"

layers:
  start: 8
  end: 23

datasets:
  tofu:
    num_queries: 50     # Reduced from 200 (still enough for stats)
    source: "locuslab/TOFU"
    subset: "forget05"
  wmdp:
    num_queries: 0
    source: "cais/wmdp"
    subset: "wmdp-bio"

geometric_features:
  - local_density
  - separability
  - centrality
  - cross_layer_consistency
  - isolation
  - cluster_compactness

feature_params:
  k_neighbors: 10
  pca_components: 30    # Reduced from 50 (must be < num_queries)

attack:
  num_anonymizations: 5   # Reduced from 10 (still valid)
  steering_strength: 2.0
  num_samples: 10         # Reduced from 100 (KEY SPEEDUP)
  temperature: 2.0
  top_k: 40
  max_new_tokens: 50
  target_layer: 22

prediction:
  models:
    - linear_regression
    - ridge
    - random_forest
    - gradient_boosting
  cv_folds: 5
  test_size: 0.2

output:
  save_activations: true
  save_features: true
  save_predictions: true
  create_visualizations: true
  output_dir: "./outputs"